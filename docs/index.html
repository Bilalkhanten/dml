<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700|Source+Code+Pro|Source+Sans+Pro" rel="stylesheet">
    <link href="/dml/index.css?v=1" rel="stylesheet">
  </head>
  <body>
    <header>
      <h1>
        <span class="icon">&nbsp;</span>DML 1.0
      </h1>
      <h2>Data Modeling Language</h2>
    </header>
    <section role="main">

      <h3>Models</h3>
      <p>
        Every model consists of one or more rules.
      </p>

      <h3>Rules</h3>
      <p>
        Every rule in a model is defined by at least a <b>type</b> and a
        <b>path</b>. The type describes what kind of data is expected and the
        path describes where to find it. For example, given the following data
        and model.
      </p>
      <h4>example.json</h4>
      <pre>
{
  created: 1480801018654,
  user: {
    name: 'Glen Danzig'
  }
}</pre>
      <h4>example.model</h4>
      <pre>
<span class="pl-c1" title="Type">Date</span> <span title="Path">created</span>
<span class="pl-c1" title="Type">String</span> <span title="Path">user.name</span></pre>
      <p>A rule can also have a default error message.</p>
      <pre>
<span class="pl-c1" title="Type">Date</span> <span title="Path">created</span> <span class="pl-s"><span class="pl-pds">"</span>Must be a valid date<span class="pl-pds">"</span></span></pre>
      <h3>Validators</h3>
      <p>
        In addition to a type, a rule can have one or more validators. A
        validator is a function (it is possible to create custom validators).
        A validator has two or more parts &mdash; a function <b>name</b>, a
        <b>value</b>, and an optional error <b>message</b>.
      </p>
      <h4>example.model</h4>
      <pre>
<span class="pl-c1">String</span> user.name {
  required <span class="pl-c1">true</span>
  gt <span class="pl-n">2</span> <span class="pl-s"><span class="pl-pds">"</span>Must be greater than 2 characters<span class="pl-pds">"</span></span>
  lte <span class="pl-n">256</span> <span class="pl-s"><span class="pl-pds">"</span>Must be less than or equal to 256 characters<span class="pl-pds">"</span></span>
}</pre>
      <p>Rules that have validators can also have a default error <b>message</b>.</p>
      <pre>
<span class="pl-c1">String</span> user.name <span class="pl-s"><span class="pl-pds">"</span>Must be a valid name<span class="pl-pds">"</span></span> {
  required <span class="pl-c1">true</span>
}</pre>


      <h3>Comments</h3>
      <p>Both inline and block comments are supported. They work the way you
      would expect any C-family language to work.</p>
        <pre>
<span class="pl-c">/*</span>
<span class="pl-c"> * An example data model</span>
<span class="pl-c"> */</span>

<span class="pl-c1">Date</span> created
<span class="pl-c1">Number</span> id

<span class="pl-c1">String</span> name {
  required <span class="pl-c1">true</span> <span class="pl-c">// this is a comment</span>
  gt <span class="pl-n">2</span> <span class="pl-s"><span class="pl-pds">"</span>Must be greater than 2 characters<span class="pl-pds">"</span></span>
  lte <span class="pl-n">256</span> <span class="pl-s"><span class="pl-pds">"</span>Must be less than or equal to 256 characters<span class="pl-pds">"</span></span>
}

<span class="pl-c1">String</span> bio <span class="pl-s"><span class="pl-pds">"</span>A bio must be a string<span class="pl-pds">"</span></span> {
  lte <span class="pl-n">140</span> <span class="pl-s"><span class="pl-pds">"</span>A bio must fit into a tweet<span class="pl-pds">"</span></span>
}

<span class="pl-c1">Boolean</span> accountType
        </pre>

      <h3>Directives</h3>
      <p>A model can contain the <b>@clean</b> directive which will ensure that
      any values not defined in the model are removed from the result.</p>

      <h4>input.json</h4>
      <pre>
{
  created: 1480801018654,
  height: 'Short, AF',
  user: {
    name: 'Glen Danzig'
  }
}</pre>
      <h4>example.model</h4>
      <pre>
<span class="pl-c1" title="Type">Date</span> <span title="Path">created</span>
<span class="pl-c1" title="Type">String</span> <span title="Path">user.name</span></pre>
      <p>Given the above data and model, the result will not include the
      height property.
      <h4>output.json</h4>
      <pre>
{
  created: '2016-10-02T13:56:44.931Z',
  user: {
    name: 'Glen Danzig'
  }
}</pre>

    </section>
  </body>
</html>
